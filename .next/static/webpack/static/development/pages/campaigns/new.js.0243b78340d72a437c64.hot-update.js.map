{"version":3,"file":"static/webpack/static\\development\\pages\\campaigns\\new.js.0243b78340d72a437c64.hot-update.js","sources":["webpack:///./pages/campaigns/new.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport Layout from '../../components/Layout';\r\nimport { Button, Form, Input, Container, Segment } from 'semantic-ui-react'\r\nimport factory from '../../ethereum/factory';\r\nimport web3 from '../../ethereum/web3';\r\n\r\nclass NewCampaign extends Component {\r\n\r\n  state = {\r\n    value: '',\r\n    loading: false\r\n  }\r\n\r\n  onSubmit = async (e) => {\r\n    e.preventDefault();\r\n\r\n    // creating a new campaign\r\n    // we don't have to specify the amount of gas \r\n    // cuz metamask is going to do that automatically\r\n    this.setState({ value: '', loading: true });\r\n    const accounts = await web3.eth.getAccounts();\r\n    factory.methods.createCampaign(this.state.value).send({ from: accounts[0] })\r\n    .then(response => {\r\n      this.setState({ loading: false });\r\n    }) \r\n    .catch(error => {\r\n      this.setState({ loading: false });\r\n    })\r\n  }; \r\n\r\n  render() {\r\n    return(\r\n        <Layout>\r\n\r\n            <Segment inverted color=\"red\">\r\n              this is an error\r\n            </Segment>\r\n\r\n            <Container>\r\n\r\n              <h3>Create a Campaign</h3>\r\n              <Form onSubmit={this.onSubmit}>\r\n                <Form.Field>\r\n                  <label>Minimum Contribution :</label>\r\n                  <Input \r\n                    loading={(this.state.loading)}\r\n                    { ... (this.state.loading) ? {iconPosition: 'left'} : {} }\r\n                    disabled={(this.state.loading)}\r\n                    label=\"wei\" \r\n                    labelPosition=\"right\" \r\n                    type=\"number\" \r\n                    value={this.state.value} \r\n                    onChange={e => { this.setState({ value: e.target.value }); } } \r\n                  />\r\n\r\n                </Form.Field>\r\n\r\n                <Button primary type='submit'>Create</Button>\r\n              </Form>\r\n                            \r\n            </Container>\r\n        </Layout>\r\n    );\r\n  }\r\n}\r\n\r\nexport default NewCampaign;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAFA;AACA;;;;;;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAGA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAPA;AAAA;AACA;AADA;AAOA;AACA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AACA;AACA;AAfA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;;;;;;;;;;;AAgBA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AADA;AAEA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AARA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;;;;AAzDA;AACA;AA2DA;;;;;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}